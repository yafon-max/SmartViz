# SmartViz项目

## 项目概述

本项目是由孙澄宇教授及其团队开发的基于计算机视觉的智慧社区人车行为时空分析系统，通过现代化的Web技术实现了社区数据的可视化展示。系统利用社区内摄像头获取的街道视频数据，通过YOLOv5等计算机视觉算法检测行人和车辆信息，进行多源数据采样和时空行为分析，为社区规划和管理提供数据支持。

项目启动于2020年，因疫情影响，项目暂停于2021年。

本项目由上海市城市更新及其空间优化技术重点实验室/建筑规划景观国家级虚拟仿真实验教学中心（同济大学）支持

## 核心功能

### 首页 (Home)

- **项目介绍**：展示研究背景、研究目标和技术方法
- **团队介绍**：通过交互式网络图展示项目团队成员和角色分工
- **快捷导航**：提供主要功能模块的快速访问入口

### 数据可视化 (DataVisualization)

- **数据概览**：展示行人总量、车辆总量、高峰时段和异常事件统计
- **时间分布图表**：通过ECharts实现的行人和车辆时间分布交互式图表
- **社区热力图**：展示不同区域人车活动密度的热力图
- **空间诊断与改造**：
  - 不同人车特征下的公共空间分类
  - 针对性的空间改造策略
  - 社区总体规划建议

### 算法说明 (AlgorithmExplanation)

- **研究框架**：多源数据和视频数据处理流程
- **数据采样方法**：单视角单时刻、单视角多时刻、多视角单时刻、多视角多时刻
- **感知系统**：基于视频数据的社区更新人车流感知系统
- **系统架构**：感知层、分析层、执行层的详细说明
- **技术详情**：
  - 目标检测算法 (YOLOv5)
  - 停车判定技术
  - 人行道违规检测
  - 绿地闯入检测
  - 数字孪生技术

### 3D模型展示 (Model3D)

- **交互式3D社区模型**：使用Three.js实现的可交互社区数字孪生模型
- **视觉感知范围**：展示摄像头覆盖范围和视野
- **数据标注**：在3D模型上标注关键点位和数据

## 技术栈

- **前端框架**：Vue 3 + Vite
- **国际化**：Vue I18n (支持中英文切换)
- **数据可视化**：
  - ECharts：图表展示
  - D3.js：网络图和交互式数据可视化
  - Mermaid：流程图展示
- **3D渲染**：Three.js
- **路由管理**：Vue Router
- **动画效果**：GSAP + Tween.js
- **样式处理**：SASS

## 项目结构

```
smart-community-viz/
├── public/             # 静态资源和3D模型文件
├── src/
│   ├── assets/         # 项目资源文件和摄像头图像
│   ├── components/     # 通用组件
│   │   └── ZoomableMermaid.vue  # 可缩放的流程图组件
│   ├── i18n/           # 国际化语言文件
│   │   ├── en.js       # 英文翻译
│   │   └── zh.js       # 中文翻译
│   ├── router/         # 路由配置
│   ├── utils/          # 工具函数
│   ├── views/          # 页面组件
│   │   ├── Home.vue             # 首页
│   │   ├── DataVisualization.vue # 数据可视化页面
│   │   ├── AlgorithmExplanation.vue # 算法说明页面
│   │   └── Model3D.vue          # 3D模型展示页面
│   ├── App.vue         # 主应用组件
│   └── main.js         # 入口文件
├── index.html          # HTML模板
└── package.json        # 项目配置
```

## 数据采样方法

项目实现了四种数据采样方法，适用于不同场景：

1. **单视角单时刻 (C1F1)**：适用于特定位置的瞬时状态分析
2. **单视角多时刻 (C1Fn)**：适用于特定位置的时序变化分析
3. **多视角单时刻 (CmF1)**：适用于大范围空间的瞬时状态分析
4. **多视角多时刻 (CmFn)**：适用于大范围空间的时序变化分析

## 研究背景

本项目旨在通过计算机视觉和数据分析技术，解决社区规划和管理中的实际问题。通过对社区内人车行为的时空分析，为社区空间优化和管理决策提供数据支持，促进社区环境的改善和居民生活质量的提升。

## 许可

MIT

## 联系方式

如有问题或建议，请提交Issue或联系项目维护者。
